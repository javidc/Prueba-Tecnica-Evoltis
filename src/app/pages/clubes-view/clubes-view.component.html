<!-- <app-spinner *ngIf="isLoading"></app-spinner> -->
<p-table [value]="clubs" [tableStyle]="{'min-width': '60rem'}">
  <ng-template pTemplate="caption">
    <div class="flex align-items-center justify-content-between">
      Listado de Clubes
      <a [routerLink]="['/club/create']">
        <p-button icon="pi pi-plus"></p-button>
      </a>
    </div>
    <div class="grid" >
    <div class="col-12 md:col-6 lg:col-6 xl:col-6 align-items-center justify-content-center text-center">
    <input
      pInputText
      type="text"
      placeholder="Buscar por nombre:"
      [(ngModel)]="nameFilter"
      (input)="getClubs()"
      class="ng-dirty text-base text-color surface-overlay p-2 border-1 border-solid border-round appearance-none surface-border outline-none h-3rem focus:border-primary w-6"
    />
  </div>
  <div class="col-12 md:col-6 lg:col-6 xl:col-6 align-items-center justify-content-center">
      <p-dropdown
      [(ngModel)]="selectedTournamentId"
      [showClear]="true"
      placeholder="Seleccione el campeonato"
      inputId="dropdown"
      optionLabel="Campeonato"
      appendTo="body"
      styleClass="w-6"
      (onChange)="getClubs()"
      [options]="tournaments"
      optionLabel="name"
      emptyFilterMessage="No se encuentran resultados"
      emptyMessage="No se encuentran resultados"
      (onClear)="clearInputs()"
    >
    </p-dropdown> 
  </div>
</div>
  </ng-template>
  <ng-template pTemplate="header">
      <tr>
          <th>Logo</th>
          <th>Nombre</th>
          <th>Direcci√≥n</th>
          <th>CUIT</th>
          <th>Estadio</th>
          <th>Campeonato</th>
          <th>Activo / Inactivo</th>
          <th>Acciones</th>
      </tr>
  </ng-template>
  <ng-template pTemplate="body" let-club>
      <tr>
          <td><img [src]="club.image" alt="Logo Club" width="60" class="shadow-4"></td>
          <td>{{club.name}}</td>
          <td>{{club.address}}</td>
          <td>{{club.cuit}}</td>
          <td>{{club.stadiumName}}</td>
          <td>{{club.tournament}}</td>
          <td>{{club.active ? 'Activo' : 'Inactivo'}}</td>
          <td><p-button icon="pi pi-pencil" label="Editar" (onClick)="saveIdClub(club.idClub)" routerLink="/club/update"></p-button></td>
          <!-- <td><p-tag [value]="club.active" [severity]="getSeverity(club.active)"></p-tag></td> -->
      </tr>
  </ng-template>
  <ng-template pTemplate="summary">
      <div class="flex align-items-center justify-content-between">
          Hay {{clubs ? clubs.length : 0 }} clubes en total.
      </div>
      <div>
        <p-paginator
          [rows]="itemsPerPage"
          [totalRecords]="totalQuantity"
          [first]="(actualPage - 1) * itemsPerPage"
          (onPageChange)="changePage($event)"
          [rowsPerPageOptions]="[5, 10, 15, 30, 50]"
        ></p-paginator>
      </div>
  </ng-template>
</p-table>

